{"ast":null,"code":"var _jsxFileName = \"C:\\\\FullStack2021\\\\osa2\\\\puhelinluettelo\\\\src\\\\components\\\\AddPerson.js\";\nimport personService from '../services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddPerson = props => {\n  const newPerson = props.newPerson;\n  const newNumber = props.newNumber;\n  const persons = props.persons;\n  const setPersons = props.setPersons;\n  const setNewPerson = props.setNewPerson;\n  const setNewNumber = props.setNewNumber;\n\n  const add = event => {\n    // lisätään henkilö, nimi,numero ja id\n    event.preventDefault();\n    const personObject = {\n      // uutta objektia tuosta\n      name: newPerson,\n      number: newNumber,\n      id: persons.length + 1\n    };\n    var listalla = false; // \n\n    for (let i = 0; i < persons.length; i++) {\n      if (!(persons[i].name === personObject.name)) {\n        // tutkitaan, onko henkilö jo puhelinluettelossa. Jos ei, niin lisätään ja jos on niin alerttia perään\n        listalla = false;\n      } else {\n        listalla = true;\n        let message = `Person ${personObject.name} is already added to phonebook, replace the old number with a new one?`;\n        let result = window.confirm(message);\n        alert(result);\n\n        if (result === true) {\n          /// kun halutaan päivittää numero\n          personService // eka poistetaan vanha veks\n          .deletePerson(personObject.name).then(response => {\n            console.log('AHAAHS');\n            setPersons(persons.filter(person => person.name !== personObject.name));\n            console.log(response, 'mitäs daataaa');\n          });\n          /*     personService  // ja sit päivitetään uusi?\r\n                 .update(personObject.name, newNumber)\r\n                 .then(response => {\r\n                   setPersons(persons.map(person => person.name !== personObject.name ? person : response.data))\r\n                  \r\n                  \r\n               }) */\n\n          console.log('person id?  ', personObject.name);\n          console.log('numba', newNumber);\n        }\n      }\n    }\n\n    if (!(listalla === true)) {\n      console.log();\n      setPersons(persons.concat(personObject));\n    }\n\n    listalla = false;\n  };\n\n  const handleAddPerson = event => {\n    // lisää henkilölle nimi\n    console.log(event.target.value);\n    setNewPerson(event.target.value);\n  };\n\n  const handleAddNumber = event => {\n    // lisää henkilölle numero\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: add,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleAddPerson\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleAddNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_c = AddPerson;\nexport default AddPerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddPerson\");","map":{"version":3,"sources":["C:/FullStack2021/osa2/puhelinluettelo/src/components/AddPerson.js"],"names":["personService","AddPerson","props","newPerson","newNumber","persons","setPersons","setNewPerson","setNewNumber","add","event","preventDefault","personObject","name","number","id","length","listalla","i","message","result","window","confirm","alert","deletePerson","then","response","console","log","filter","person","concat","handleAddPerson","target","value","handleAddNumber"],"mappings":"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","sourcesContent":["import personService from '../services/persons'\r\n\r\nconst AddPerson = (props) => {\r\n    const newPerson = props.newPerson\r\n    const newNumber = props.newNumber\r\n    const persons = props.persons\r\n    const setPersons = props.setPersons\r\n    const setNewPerson = props.setNewPerson\r\n    const setNewNumber = props.setNewNumber\r\n\r\n\r\n\r\n\r\n    const add = (event) => {   // lisätään henkilö, nimi,numero ja id\r\n        \r\n        event.preventDefault()\r\n        const personObject = {  // uutta objektia tuosta\r\n          name: newPerson,\r\n          number: newNumber, \r\n          id: persons.length +1   \r\n        }\r\n        var listalla = false;  // \r\n        for (let  i = 0; i < persons.length; i++){\r\n    \r\n         if (!(persons[i].name === personObject.name)){  // tutkitaan, onko henkilö jo puhelinluettelossa. Jos ei, niin lisätään ja jos on niin alerttia perään\r\n           listalla = false;\r\n       \r\n         } else {\r\n           listalla = true;\r\n           let message = `Person ${personObject.name} is already added to phonebook, replace the old number with a new one?`\r\n           let result = window.confirm(message)\r\n           alert(result)\r\n           if (result === true){ /// kun halutaan päivittää numero\r\n\r\n            personService  // eka poistetaan vanha veks\r\n            .deletePerson(personObject.name)\r\n            .then(response => {\r\n             console.log('AHAAHS')\r\n              setPersons(persons.filter(person => person.name !== personObject.name))\r\n              console.log(response,'mitäs daataaa')\r\n            })\r\n\r\n         /*     personService  // ja sit päivitetään uusi?\r\n                .update(personObject.name, newNumber)\r\n                .then(response => {\r\n                  setPersons(persons.map(person => person.name !== personObject.name ? person : response.data))\r\n                 \r\n                 \r\n              }) */\r\n              console.log('person id?  ',personObject.name)\r\n              console.log('numba',newNumber)\r\n\r\n        \r\n\r\n           }\r\n     \r\n         }\r\n         \r\n      \r\n        }\r\n        if (!(listalla === true)){\r\n            console.log()\r\n             setPersons(persons.concat(personObject))\r\n        }\r\n        listalla = false;\r\n      \r\n      }\r\n    \r\n      const handleAddPerson = (event) => {  // lisää henkilölle nimi\r\n        console.log(event.target.value)\r\n        setNewPerson(event.target.value)\r\n     \r\n      }\r\n      const handleAddNumber = (event) => {  // lisää henkilölle numero\r\n        console.log(event.target.value)\r\n        setNewNumber(event.target.value)\r\n     \r\n      }\r\n\r\n\r\n    return (\r\n        <form onSubmit = {add}>\r\n        <div>\r\n          <p>Name: <input onChange={handleAddPerson}/></p> \r\n          <p>Number: <input onChange={handleAddNumber}/></p>\r\n          <button type=\"submit\">Add</button>\r\n        </div>\r\n        <ul>\r\n\r\n        </ul>\r\n      </form>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default AddPerson"]},"metadata":{},"sourceType":"module"}